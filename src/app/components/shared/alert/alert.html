@if (isOpen) {
    <div class="fixed inset-0 z-50 overflow-y-auto overflow-x-hidden flex justify-center items-center w-full h-full bg-gray-900 bg-opacity-75 transition-opacity duration-300">
        <div class="relative p-4 w-full max-w-md max-h-full" (click)="$event.stopPropagation()">
            
            <div class="relative bg-white rounded-lg shadow-2xl dark:bg-gray-700 transition-transform duration-300 transform scale-100">
                
                <button type="button" 
                        (click)="closeModal()"
                        class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" 
                        title="Cerrar">
                    <fa-icon [icon]="faTimes" class="text-lg"></fa-icon>
                    <span class="sr-only">Cerrar modal</span>
                </button>
                
                <div class="p-4 md:p-5 text-center">
                    
                    <fa-icon [icon]="icon" [class]="colorClass" class="mx-auto mb-4 text-5xl"></fa-icon>
                    
                    <h3 class="mb-5 text-lg font-normal text-gray-700 dark:text-gray-400 font-semibold">
                        @switch (type) {
                            @case ('success') { ¡Operación Exitosa! }
                            @case ('danger') { Error de Sistema }
                            @case ('info') { Información Importante }
                        }
                    </h3>

                    <div class="text-sm text-gray-600 dark:text-gray-300 text-left w-fit mx-auto">
                        @if (isMessageArray()) {
                            <ul class="list-disc list-inside space-y-1">
                                @for (msg of ($any(message)); track $index) {
                                    <li>{{ msg }}</li>
                                }
                            </ul>
                        } @else {
                            <p>{{ message }}</p>
                        }
                    </div>

                    <button type="button" 
                            (click)="closeModal()"
                            [class]="'mt-6 text-white ' + buttonClass"
                            class="font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center shadow-md transition-colors duration-200">
                        Aceptar
                    </button>
                    
                </div>
            </div>
        </div>
    </div>
}